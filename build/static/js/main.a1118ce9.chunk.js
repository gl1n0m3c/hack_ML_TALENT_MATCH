(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(e,t,n){e.exports=n(29)},20:function(e,t,n){},21:function(e,t,n){},22:function(e,t,n){},29:function(e,t,n){"use strict";n.r(t);var a=n(1),l=n.n(a),c=n(8),o=n.n(c);n(20),n(21),n(22);const r=(e,t)=>{switch(t.type){case"SET_STRUCTURE":return t.payload;case"TOGGLE_NODE":return s(e,t.payload);default:return e}},s=(e,t)=>e.map(e=>e.id===t?{...e,isOpen:!e.isOpen}:e.children&&e.children.length>0?{...e,children:s(e.children,t)}:e);var i=e=>{let{directory:t,files:n,onNodeClick:c}=e;const[o,s]=l.a.useState(""),[i,u]=Object(a.useReducer)(r,[]),[d,p]=l.a.useState(null);Object(a.useEffect)(()=>{s(t)},[t]);return l.a.createElement("div",{className:"left-bar"},l.a.createElement("h3",null,"\u0421\u043f\u0438\u0441\u043e\u043a \u0440\u0435\u0437\u044e\u043c\u0435"),o&&l.a.createElement("p",null,o),o&&(e=>l.a.createElement("ul",{style:{maxHeight:"600px",overflowY:"auto"}},n.map((e,t)=>l.a.createElement("li",{key:t,style:{}},l.a.createElement("span",{onClick:()=>(e=>{const t=e.split("/").pop();console.log("Clicked on: ".concat(t)),p(t),c&&c(t)})(e.path)},e.name)))))())},u=n(31),d=n(10);var p=function(){const[e,t]=Object(a.useState)(null),[n,c]=Object(a.useState)(0),[o,r]=Object(a.useState)(0),[s,p]=Object(a.useState)(0),[m,f]=Object(a.useState)(0),[E,g]=Object(a.useState)(null),[h,b]=Object(a.useState)(null),[S,y]=Object(a.useState)([]),[j,O]=Object(a.useState)(null);Object(a.useEffect)(()=>{if(j){const e=j;f(1),fetch("".concat("http://62.171.153.244:5001/","getJson?directoryName=").concat(h,"&fileName=").concat(e)).then(e=>{if(!e.ok)throw new Error("Network response was not ok");return e.json()}).then(t=>{if(console.log("Received data:",t),t&&Object.keys(t).length>0){p(0),r(0),f(0),c(0),g(t);const n=JSON.stringify(t),a=new Blob([n],{type:"application/json"}),l=document.createElement("a");l.href=window.URL.createObjectURL(a),l.download=e.split(".")[0],l.click()}}).catch(e=>{console.error("Error fetching data:",e)})}},[j]);const w=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";if(e instanceof Blob)return"".concat(t,"/").concat(e.name);if("directory"===e.kind){const n="".concat(t,"/").concat(e.name),a=(e.files||[]).map(e=>w(e,n));return[n,...a].filter(e=>""!==e).join(",")}return console.warn("Unknown file type:",e),""},v=Object(a.useCallback)(async e=>{p(0),r(0),f(0),g(null),console.log("\u0412\u044b\u0431\u0440\u0430\u043d\u044b \u0444\u0430\u0439\u043b\u044b:",e),t(e),c(e.length)},[]);Object(a.useEffect)(()=>{if(n>0){const t=e[0].path.split("/")[1];console.log("\u0412\u044b\u0431\u0440\u0430\u043d\u0430 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044f: ".concat(t)),(async(e,t)=>{const n=new FormData;c(e.length);for(const l of e)n.append("files",l,w(l,t));if(console.log("FormData before upload:",n),n.entries().next().done)console.log("FormData is empty");else try{const e=await u.a.post("".concat("http://62.171.153.244:5001/","upload"),n,{headers:{"Content-Type":"multipart/form-data",credentials:"include"},onUploadProgress:e=>{const t=Math.round(100*e.loaded/e.total);console.log("progreeesss=",t),p(t),r(e=>e+1)}});console.log("Files uploaded successfully:",e.data)}catch(a){console.error("Error uploading files:",a)}})(e,t),b(t),console.log("FILESSSSSSSSSSSSSS!!!!!",n)}},[n,e]);const{getRootProps:x,getInputProps:k,isDragActive:N}=Object(d.a)({onDrop:v});return l.a.createElement("div",{className:"App"},l.a.createElement(i,{directory:h,files:e,directoryStructure:S,onNodeClick:e=>{O(e)}}),l.a.createElement("head",null,l.a.createElement("title",null,"\u041f\u0440\u043e\u0432\u0435\u0440\u043a\u0430 \u0440\u0435\u0437\u044e\u043c\u0435")),l.a.createElement("header",{className:"App-header"},l.a.createElement("div",{className:"app-container"},l.a.createElement("div",{className:"main-content"},l.a.createElement("div",{className:"buttons-container"},l.a.createElement("div",Object.assign({},x(),{style:{border:"2px dashed #ccc",borderRadius:"4px",padding:"20px",textAlign:"center",cursor:"pointer",height:"200px",display:"flex"}}),l.a.createElement("input",k()),N?l.a.createElement("p",{style:{padding:"70px",textAlign:"center"}},"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e \u0441 \u0440\u0435\u0437\u044e\u043c\u0435 \u0441\u044e\u0434\u0430..."):l.a.createElement("p",{style:{padding:"70px",textAlign:"center"}},"\u041f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0434\u0438\u0440\u0435\u043a\u0442\u043e\u0440\u0438\u044e \u0441 \u0440\u0435\u0437\u044e\u043c\u0435 \u0441\u044e\u0434\u0430")),n>0&&l.a.createElement("div",null,l.a.createElement("p",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 \u0444\u0430\u0439\u043b\u043e\u0432..."),l.a.createElement("progress",{value:s,max:100}),l.a.createElement("p",null,"  ",s>=100&&l.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"\u0424\u0430\u0439\u043b\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u044b \u043d\u0430 \u0441\u0435\u0440\u0432\u0435\u0440!"))),1==m&&l.a.createElement("div",null,l.a.createElement("p",null,"\u0424\u043e\u0440\u043c\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435 json...")),2==m&&l.a.createElement("div",null,l.a.createElement("p",null,"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430 json:"),l.a.createElement("progress",{value:s,max:100}),l.a.createElement("p",null,"  ",100==s&&l.a.createElement("span",{style:{color:"green",fontWeight:"bold"}},"\u041e\u0442\u0447\u0451\u0442 \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0433\u0440\u0443\u0436\u0435\u043d \u0432 \u043f\u0430\u043f\u043a\u0443 Downloads!"))))))))};var m=e=>{e&&e instanceof Function&&n.e(3).then(n.bind(null,32)).then(t=>{let{getCLS:n,getFID:a,getFCP:l,getLCP:c,getTTFB:o}=t;n(e),a(e),l(e),c(e),o(e)})};o.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(p,null))),m()}},[[11,1,2]]]);
//# sourceMappingURL=main.a1118ce9.chunk.js.map